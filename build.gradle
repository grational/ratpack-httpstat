/*
 * This build file was auto generated by 'gigawatt'
 * @author d7392
 * @date 15-05-2019 15.32
 */

// [plugins] this block must be the first
plugins {
	// support for groovy in ratpack
	id 'io.ratpack.ratpack-groovy' version '1.6.0'
	// awesome git tag / gradle version integration
	id 'pl.allegro.tech.build.axion-release' version '1.10.1'
}

// [general] configuration
project.ext {
	groovyVersion        = '2.5.7'
	gradleVersion        = '5.4.1'
	spockVersion         = '1.3-groovy-2.4'
	slf4jVersion         = '1.7.26'
	timeDecoratorVersion = 'release-0.2.1'
	wrapper.gradleVersion "$gradleVersion"
}

project.with {
	//project.name is set in the settings.gradle with rootProject.name
	version               scmVersion.version
	description           "A 'gigawatt' powered project."
	defaultTasks          'run'
}

// [crosscompile] source and target java version
allprojects {
	sourceCompatibility = '1.8'
	targetCompatibility = sourceCompatibility
}

repositories {
	jcenter()

	// leverage github as a maven repository
	maven { url 'https://jitpack.io' }
}

dependencies {
	// Slf4j dependencies to print out to the console
	implementation (
		"org.slf4j:slf4j-simple:$slf4jVersion",
		"com.github.grational:time-decorators:$timeDecoratorVersion"
	)

	// We use the awesome Spock testing and specification framework
	testImplementation "org.spockframework:spock-core:$spockVersion"
}

// [tasks] configuration //
release {
	// test everything before a release
	dependsOn 'test'
}
// vim: ft=groovy:fdm=indent
